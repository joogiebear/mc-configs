---
interface Props {
  slug: string;
  title: string;
  plugin: string;
  version: string;
  minecraftVersion: string;
  description: string;
  lastUpdated: Date;
  fileCount: number;
}

const { slug, title, plugin, version, minecraftVersion, description, lastUpdated, fileCount } = Astro.props;

const formattedDate = lastUpdated.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'short',
  day: 'numeric',
});
---

<a
  href={`/config/${slug}`}
  class="group block rounded-lg border border-zinc-800 bg-zinc-800/50 p-6 transition-all hover:border-emerald-500/50 hover:bg-zinc-800"
>
  <div class="flex items-start justify-between gap-4">
    <div class="flex-1 min-w-0">
      <h3 class="text-lg font-semibold text-white group-hover:text-emerald-400 transition-colors truncate">
        {plugin}
      </h3>
      <p class="mt-1 text-sm text-zinc-400 line-clamp-2">
        {description}
      </p>
    </div>
    <div class="flex-shrink-0">
      <span class="inline-flex items-center rounded-full bg-emerald-500/10 px-2.5 py-0.5 text-xs font-medium text-emerald-400">
        v{version}
      </span>
    </div>
  </div>

  <div class="mt-4 flex flex-wrap items-center gap-4 text-xs text-zinc-500">
    <span class="inline-flex items-center gap-1">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
      </svg>
      {fileCount} file{fileCount !== 1 ? 's' : ''}
    </span>
    <span class="inline-flex items-center gap-1">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
      </svg>
      {formattedDate}
    </span>
    <span class="inline-flex items-center gap-1 rounded bg-zinc-700/50 px-2 py-0.5">
      MC {minecraftVersion}
    </span>
  </div>
</a>
